
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <link rel=stylesheet href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
    
    $.get( "http://192.168.1.167:5000/twitter/itszero", function( data ) {
    })
      .done(function(data) {
        list = data.locations;
        console.log("list", list);
        for(var i = 0; i < list.length; i++){
          var location = "<p>"+list[i].location+"</p>";
          var time = "<p>"+list[i].created_at+"</p>";
          var embed = "<p>"+list[i].embed+"</p>";
          $("#content").append(list[i].embed);
        }
      });
    </script>
    <style>

    </style>
  </head>
  <body>
    <div id="map"></div>
    <div id="content" class="isClick"></div>




   <script>
      var map;
      function initMap() {
       var sfoOakSjcSac = [{lat: 37.621313, lng: -122.378955, radius: 16000}, {lat: 37.712569, lng: -122.219743, radius: 9000}, {lat: 37.363947,lng:-121.928938, radius: 8000}, {lat: 38.695085, lng:-121.590065, radius: 5500}];
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 37.819929, lng: -122.478255},
          zoom: 7
        });
        for(var i = 0; i < sfoOakSjcSac.length; i++){
          var infowindow = new google.maps.InfoWindow();

          // Add the circle for this city to the map.

          var marker = new google.maps.Marker({
            position: sfoOakSjcSac[i],
            icon: {
              path: google.maps.SymbolPath.CIRCLE,
              labelOrigin: new google.maps.Point(0, -20),
              labelInBackground: true,
              scale: 3
            },
            map: map,
            // label: {
            //   text: "30%",
            //   color: "blue"
            // },
            title: "test"
          });
          google.maps.event.addListener(marker, 'click', function() {
            infowindow.setContent('30%');
            infowindow.open(map, this);
            if($("#content").hasClass("isClick")){
              $("#content").removeClass("isClick");
            }
            else{
              $("#content").addClass("isClick");
            }
          });


          var cityCircle = new google.maps.Circle({
            strokeColor: '#FF0000',
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: '#FF0000',
            fillOpacity: 0.35,
            radius: sfoOakSjcSac[i].radius,
            map: map
          });
          cityCircle.bindTo('center', marker, 'position');

        }

      }
    </script> 



    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCNz0n16M4F2KPxSCBV09jtbr3IEudndY&callback=initMap"
    async defer></script>
  </body>
</html>